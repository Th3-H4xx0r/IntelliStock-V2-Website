<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@700&display=swap" rel="stylesheet">

    <meta name="viewport" content="width=device-width, user-scalable=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="css/dashboard.css"">
    <script src="js/main.js"></script>

    <link rel="stylesheet" href="css/loading.css">

    <script src="js/chartist.min.js"></script>


      
    <!-- Insert these scripts at the bottom of the HTML, but before you use any Firebase services -->

  <!-- The core Firebase JS SDK is always required and must be listed first -->
  <script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-app.js"></script>

  <!-- If you enabled Analytics in your project, add the Firebase SDK for Analytics -->
  <script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-analytics.js"></script>

  <!-- Add Firebase products that you want to use -->
  <script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-firestore.js"></script>

  <script src="https://api.intellistock.protosystems.net/init.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/js/all.min.js"></script>


    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js" integrity="sha512-qTXRIMyZIFb8iQcfjXWCO8+M5Tbc38Qi5WzdPOYZHIlZpzBHG3L3by84BBBOiRGiEb7KKtAOAs5qYdUiZiQNNQ==" crossorigin="anonymous"></script>


        <script src="js/chart.js/Chart.min.js"></script>



        <script src="https://cdn.amcharts.com/lib/4/core.js"></script>
        <script src="https://cdn.amcharts.com/lib/4/charts.js"></script>
        <script src="https://cdn.amcharts.com/lib/4/themes/dark.js"></script>
        <script src="https://cdn.amcharts.com/lib/4/themes/animated.js"></script>
        <script src="https://cdn.amcharts.com/lib/4/plugins/rangeSelector.js"></script>

        <link href="css/sb-admin-2.min.css" rel="stylesheet">


        <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@200;300;600;700&display=swap" rel="stylesheet"> 

        <script src="apexcharts/apexcharts.js"></script>

        <link rel="stylesheet" href="apexcharts/apexcharts.css">

    <title>Dashboard</title>
  </head>
  <body style="background-color: #242B48;" id = 'page-main'>

    <script>
        $( document ).ready(function() {
            init();
            //getUserInstances('dashboard');

            var instance = '<%= instance %>'
            getDashboardData(instance)
        });
    </script>

<section id = 'forbidden-page' style="display: none;">
    <div class="d-flex justify-content-center" style="margin-top: 25%;">
        <h2 style="color: white;">Forbidden Content</h2>
    </div>

</section>



<section id = 'loading-page' style="display: initial;">
    <div class="d-flex justify-content-center" style="margin-top: 25%;">
        <div class='loading'>
            <div class='loading__square'></div>
            <div class='loading__square'></div>
            <div class='loading__square'></div>
            <div class='loading__square'></div>
            <div class='loading__square'></div>
            <div class='loading__square'></div>
            <div class='loading__square'></div>
          </div>
    </div>

</section>

<section id = 'no-instances' style="display: none;">
    <div class="d-flex justify-content-center" style="margin-top: 13%;">
        <img src="Assets/undraw_my_documents_ym8x.svg" alt="" width="20%" ">
    </div>
    <center>
        <h1 style="color: white; margin-top: 1rem;">No Instances</h1>
        <h5 style="color: white; max-width: 25%; font-weight: 400; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif">We see that you have not created any instances so far. Create your first one.</h5>
        <button class="create-instance-starter-btn" style="margin-top: 1rem;" onclick="createInstancePopup()">Create Instance</button>
    </center>

    <center>
        <a href="#" style="color: #00CF98;" onclick="logout()">Logout</a>
    </center>
</section>



<section style="display: none;" id="content-main-page">
    <div class="row">

        <section class="second-bar">

            <center>
                <a class="navbar-brand" href="#"><img src='Assets/Group 1.png' width="50%" style = 'margin-top: 3rem;'/></a>


            
            </center>

            <center>
                <button class="switch-instance-btn" onClick="window.location='/instances'">Switch Instance</button>
            </center>


                    <div style="margin-left: 1rem; margin-top: 2rem;">

                        <h6 style="color: grey; margin-left: 1rem; font-weight: 500;">Menu</h6>
                        <div class="row">
                            <div class="selected-menu-bar"></div>
                            <i class="fas fa-th-large" style="color: white; font-size: 20px; margin-left: 1rem; margin-right: 1rem; margin-top: 0.5rem; color: #00CF98;"></i>
                            <a href="/dashboard"><h6 style="color: #00CF98; margin-top: 0.5rem;">Dashboard</h5></a>
                        </div>


                        <div class="row" style="margin-top: 2rem; margin-left: 0rem;">
                            <i class="fas fa-stream" style="color: white; font-size: 20px; margin-left: 1rem; margin-right: 1rem;"></i>
                            <a href="/stocks" ><h6 style="color: white;">Watchlist</h6></a>

                        </div>

                        <div class="row" style="margin-top: 2rem; margin-left: 0rem;">
                            <i class="fas fa-history" style="color: white; font-size: 20px; margin-left: 1rem; margin-right: 1rem;"></i>
                            <a href="/history" ><h6 style="color: white;">History</h5></a>

                        </div>

                        <div class="row" style="margin-top: 2rem; margin-left: 0rem;">
                            <i class="fas fa-chart-line" style="color: white; font-size: 20px; margin-left: 1rem; margin-right: 1rem;"></i>
                            <a href="/history" ><h6 style="color: white;">Predictions <span class="badge badge-light">Beta</span></h5></a>

                        </div>

                        <div class="row" style="margin-top: 2rem; margin-left: 0rem;">
                            <i class="fas fa-rocket" style="color: white; font-size: 20px; margin-left: 1rem; margin-right: 1rem;"></i>
                            <a href="/explore" ><h6 style="color: white;">Explore</h5></a>

                        </div>

                        <div class="row" style="margin-top: 2rem; margin-left: 0rem;">
                            <i class="fas fa-cog" style="color: white; font-size: 20px; margin-left: 1rem; margin-right: 1rem;"></i>
                            <a href="/settings" ><h6 style="color: white;">Settings</h5></a>

                        </div>



                    </div>



            <center style="margin-top: 90%;">
                <a href="#" style="color: #00CF98;" onclick="logout()">Logout</a>
            </center>

        </section>

        <!-- DASHBOARD MAIN -->
        <section> 
            <h2 style="color: white; margin-top: 3rem; margin-left: 3rem; font-family: Nunito;">Welcome to <span style="color: #00CF98; font-weight: 700;">Intellistock</span></h1>
            <h6 style="color: #C0C0C0; margin-top: 0.5rem; margin-left: 3rem; font-family: Nunito;">Good Morning, <span id = 'user-name'></span></h6>

            <div class="row">

                <!-- Portfolio graph -->

                <div>
                    <h4 style="color: white; margin-top: 6rem; margin-left: 3rem; font-family: Nunito; font-weight: bold;">Portfolio Summary</span></h4>

                    <h6 style="color: #C0C0C0; margin-top: 0.5rem; margin-left: 3rem; font-family: Nunito;" id = 'portfolio-statement'>As of today 6:30 AM</h6>
        
                    
                    <!--
                    <div id="chartdiv" style="color: white; height: 20rem; width: 170%"></div>
                        
                    -->

                    <canvas id="myChart" width="770" height="298" style="margin-left: 3rem;"></canvas>
                </div>

                <!-- END of portfolio graph-->

                <!-- Watchlist Section -->

                <div style="position: absolute; right: 19rem;">

                    <h5 style="color: white; margin-top: 6rem; margin-left: 3rem; font-family: Nunito; font-weight: bold;">Watchlist Overview</span></h5>

                    <div class="watchlist-box">
                        <div class="d-flex justify-content-center">
                            <div class="watchlist-header">
                                <div class="row">
                                    <h5 class="watchlist-header-item" style="margin-left: 2rem;">#</h5>

                                    <h5 class="watchlist-header-item" style="margin-left: 5rem;">Ticker</h5>

                                    <h5 class="watchlist-header-item" style="margin-left: 5rem;">Qty</h5>

                                    <h5 class="watchlist-header-item" style="margin-left: 6rem;">Return</h5>
                                </div>
                            </div>
                        </div>

                        <div>

                        <div class="watchlist-item">

                            <div class="row">
                                <span>1</span>

                                <span style="margin-left: 5rem;">TSLA</span>

                                <span style="margin-left: 4.5rem;">10</span>

                                <span style="margin-left: 5rem;">+$23.21</span>
                            </div>

                        </div>

                        </div>

                    </div>
                </div>

                <!-- END of watchlist section -->

             
            </div>


         

                <!--
                <canvas id="myChart" width="200" height="50" style="margin-left: 3rem;"></canvas>

                -->



                                            
                <h4 style="color: white; margin-top: 2rem; margin-left: 3rem; font-family: Nunito; font-weight: bold;">Your Portfolio</span></h4>

                <div class="portfolio-box">
                    <div class="row">
                        <div>
                            <h4 style="color: white; margin-left: 4rem; margin-top: 1.5rem;">Alpaca</h4>
                            <p style="color:#979797; margin-left: 4rem; margin-top: -0.5rem; font-weight: 600; font-family: Nunito;">Paper trading</p>
                        </div>


                        <div style="margin-left: 20rem;">
                            <h5 style="color: white; margin-left: 4rem; margin-top: 2rem;" id = 'buyingPower'>$0</h4>
                            <p style="color:#979797; margin-left: 4rem; margin-top: -0.5rem; font-weight: 600; font-family: Nunito;">Buying Power</p>
                        </div>


                        <div>
                            <h5 style="color: white; margin-left: 4rem; margin-top: 2rem;" id = 'equity'>$0</h4>
                            <p style="color:#979797; margin-left: 4rem; margin-top: -0.5rem; font-weight: 600; font-family: Nunito;">Equity</p>
                        </div>

                        <div>
                            <h5 style="color: white; margin-left: 4rem; margin-top: 2rem;" id = 'return' >$0</h4>
                            <p style="color:#979797; margin-left: 4rem; margin-top: -0.5rem; font-weight: 600; font-family: Nunito;">Total Return</p>
                        </div>
                    </div>
                </div>


            <div class="row" style="margin-top: 1rem; margin-left: 3rem;" id = 'latest-transactions-row'>



            </div>

            </section>
            

               </div>

               
</section>



</body>
</html>